@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as m;
@use 'sass:color';


.btn {
  // BASE STYLES
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: $spacing-sm;
  padding: $spacing-md $spacing-xl;
  border: none;
  border-radius: $border-radius-lg;
  font-size: $font-size-md;
  font-weight: $font-weight-semibold;
  font-family: inherit;
  cursor: pointer;
  transition: all $transition-normal;
  position: relative;
  overflow: hidden;
  white-space: nowrap;
  text-decoration: none;
  
  // PREVENT TEXT SELECTION
  user-select: none;
  -webkit-tap-highlight-color: transparent;

  // HOVER EFFECT
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }

  &:hover::before {
    width: 300px;
    height: 300px;
  }

  // ACTIVE STATE
  &:active {
    transform: scale(0.98);
  }

  // DISABLED STATE
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none !important;

    &::before {
      display: none;
    }
  }

  // FOCUS STATE
  &:focus-visible {
    outline: 2px solid $admin-primary;
    outline-offset: 2px;
  }

  //Button variants

   &--primary {
    background: linear-gradient(135deg, $admin-primary 0%, color.adjust($admin-primary, $lightness: -8%) 100%);
    color: white;
    box-shadow: 0 2px 8px rgba($admin-primary, 0.3);

    &:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba($admin-primary, 0.4);
    }
  }

  &--secondary {
    background: $admin-secondary;
    color: white;
    box-shadow: 0 2px 8px rgba($admin-secondary, 0.3);

    &:hover:not(:disabled) {
      background: color.adjust($admin-secondary, $lightness: -8%);
      transform: translateY(-2px);
    }
  }

  &--success {
    background: linear-gradient(135deg, $success-color 0%, color.adjust($success-color, $lightness: -8%) 100%);
    color: white;
    box-shadow: 0 2px 8px rgba($success-color, 0.3);

    &:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba($success-color, 0.4);
    }
  }

  &--danger {
    background: linear-gradient(135deg, $danger-color 0%, color.adjust($danger-color, $lightness: -8%) 100%);
    color: white;
    box-shadow: 0 2px 8px rgba($danger-color, 0.3);

    &:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba($danger-color, 0.4);
    }
  }

  &--info {
    background: linear-gradient(135deg, $info-color 0%, color.adjust($info-color, $lightness: -8%) 100%);
    color: white;
    box-shadow: 0 2px 8px rgba($info-color, 0.3);

    &:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba($info-color, 0.4);
    }
  }

  &--warning {
    background: linear-gradient(135deg, $warning-color 0%, color.adjust($warning-color, $lightness: -8%) 100%);
    color: $admin-text;
    box-shadow: 0 2px 8px rgba($warning-color, 0.3);

    &:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba($warning-color, 0.4);
    }
  }

  &--outline-primary {
    background: transparent;
    color: $admin-primary;
    border: 2px solid $admin-primary;

    &:hover:not(:disabled) {
      background: $admin-primary;
      color: white;
      transform: translateY(-2px);
    }
  }

  &--outline-secondary {
    background: transparent;
    color: $admin-secondary;
    border: 2px solid $admin-secondary;

    &:hover:not(:disabled) {
      background: $admin-secondary;
      color: white;
      transform: translateY(-2px);
    }
  }
  //Button sizes
  
  &--sm {
    padding: $spacing-sm $spacing-md;
    font-size: $font-size-sm;
    gap: $spacing-xs;
  }

  &--md {
    padding: $spacing-md $spacing-xl;
    font-size: $font-size-md;
    gap: $spacing-sm;
  }

  &--lg {
    padding: $spacing-lg $spacing-xxl;
    font-size: $font-size-lg;
    gap: $spacing-md;
  }

  // =============================================
  // BUTTON MODIFIERS
  // =============================================

  &--full-width {
    width: 100%;
  }

  &--loading {
    pointer-events: none;
    opacity: 0.8;
  }

  // =============================================
  // BUTTON ELEMENTS
  // =============================================

  &__icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2em;
    line-height: 1;
    
    svg {
      display: block;
      width: 1em;
      height: 1em;
      stroke-width: 2;
    }
  }

  &__text {
    position: relative;
    z-index: 1;
    display: inline-flex; 
    align-items: center; 
  }

  &__spinner {
    display: inline-flex;
    align-items: center;
    justify-content: center; 

    .spinner {
      width: 16px;
      height: 16px;
      animation: rotate 1s linear infinite;
    }

    .spinner-path {
      stroke: currentColor;
      stroke-linecap: round;
      animation: dash 1.5s ease-in-out infinite;
    }
  }
}

// =============================================
//  KEYFRAMES
// =============================================

@keyframes rotate {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes dash {
  0% {
    stroke-dasharray: 1, 150;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -35;
  }
  100% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -124;
  }
}

// =============================================
// RESPONSIVE
// =============================================

@media (max-width: $tablet) {
  .btn {
    padding: $spacing-sm $spacing-lg;
    font-size: $font-size-sm;

    &--lg {
      padding: $spacing-md $spacing-xl;
      font-size: $font-size-md;
    }
  }
}